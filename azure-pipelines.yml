trigger:
  - none

pool:
  name: bara
  demands:
    - agent.name -equals vmagentm

steps:
- script: 
    pwd
    
- script: |
    flutter --version
    flutter pub outdated
    flutter pub upgrade --major-versions
    flutter pub get
  displayName: 'Run Flutter Commands'

- task: FlutterBuild@0
  inputs:
    target: 'apk'
    projectDirectory: './'  # Ensure this points to your project
    flutterDirectory: '/home/azureuser/myagent/sdk/flutter/bin'

- task: FlutterTest@0
  inputs:
    projectDirectory: './'   # Ensure this points to your Flutter project
